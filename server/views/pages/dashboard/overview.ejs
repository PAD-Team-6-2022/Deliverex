<!DOCTYPE html>
<html lang="en" class="bg-slate-50">
<head>
    <%- include("../../partials/head", { js: "dashboard/overview" }) %>
</head>
<body>
    <%- include("../../partials/modal", { id: "delete-order", type: "warning", actions: { confirm: { type: "warning", label: "Delete" } }, title: "Are you sure?", description: "Are you sure you want to delete this order? You cannot go back." }) %>
    <div class="flex">
        <%- include("../../partials/dashboard/sidebar") %>
        <div class="p-10 flex-1 overflow-hidden space-y-10">
            <%- include("../../partials/breadcrumb", { links: [{ name: "Overview" }] }) %>
            <div class="text-center sm:text-left space-y-3">
                <h1 class="font-bold text-3xl sm:text-4xl text-slate-800">Welcome back, <%= user.username %>!</h1>
                <p class="text-lg sm:text-xl font-medium text-slate-500 max-w-sm inline-block">See how your business is doing by looking at the statistics below</p>
            </div>
            <div class="space-y-3">
                <h2 class="font-medium text-2xl text-slate-800">Statistics</h2>
                <div>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
                    <canvas id="myChart" class="max-h-200"></canvas>
                </div>
                <div class="flex gap-3 flex-col sm:flex-row">
                    <div class="bg-white rounded-md border border-slate-200 p-4 flex-1">
                        <h1 id="ordersAmount" class="font-bold text-4xl text-slate-800"><%= ordersAmount %></h1>
                        <p class="font-medium text-slate-500 text-xl mt-2">Orders</p>
                    </div>
                    <div class="bg-white rounded-md border border-slate-200 p-4 flex-1">
                        <h1 id="deliveredAmount" class="font-bold text-4xl text-slate-800"><%= deliverdAmount %></h1>
                        <p class="font-medium text-slate-500 text-xl mt-2">Delivered</p>
                    </div>
                    <div class="bg-white rounded-md border border-slate-200 p-4 flex-1">
                        <h1 class="font-bold text-4xl text-slate-800"><%= new Intl.NumberFormat('nl-NL', { style: 'currency', currency: 'EUR' }).format(donatedAmount); %></h1>
                        <p class="font-medium text-slate-500 text-xl mt-2">Money raised <small class="text-slate-400">(This month)</small></p>
                    </div>
                 </div>
            </div>
            <%# order overview %>
            <%- include('../../partials/orders') %> 
        </div>
        <div class="bg-white rounded-md border border-slate-200 p-4 flex-1 hidden">
            <p id="aprilDelivered" class="max-h-0"  ><%= aprilDelivered %></p>
            <p id="meiDelivered" class="max-h-0"  ><%= meiDelivered %></p>
            <p id="juniDelivered" class="max-h-0"  ><%= juniDelivered %></p>
            <p id="aprilSorting" class="max-h-0"  ><%= aprilSorting %></p>
            <p id="meiSorting" class="max-h-0"  ><%= meiSorting %></p>
            <p id="juniSorting" class="max-h-0"  ><%= juniSorting %></p>
            <p id="aprilReady" class="max-h-0"  ><%= aprilReady %></p>
            <p id="meiReady" class="max-h-0"  ><%= meiReady %></p>
            <p id="juniReady" class="max-h-0"  ><%= juniReady %></p>
            <p id="aprilTransit" class="max-h-0"  ><%= aprilTransit %></p>
            <p id="meiTransit" class="max-h-0"  ><%= meiTransit %></p>
            <p id="juniTransit" class="max-h-0"  ><%= juniTransit %></p>
            <p id="aprilFailed" class="max-h-0"  ><%= aprilFailed %></p>
            <p id="meiFailed" class="max-h-0"  ><%= meiFailed %></p>
            <p id="juniFailed" class="max-h-0"  ><%= juniFailed %></p>
        </div>
    </div>
</body>
</html>
