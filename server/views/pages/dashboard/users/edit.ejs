<!DOCTYPE html>
<html lang="en" class="bg-slate-50">
  <head>
    <%- include("../../../partials/head", {js: "dashboard/orders/edit"}) %>
  </head>
  <body>
    <%- include("../../../partials/toaster", { toasters }) %>
    <div class="flex">
      <%- include("../../../partials/dashboard/sidebar") %>
      <div class="p-10 flex-1 overflow-hidden space-y-10">
        <%- include("../../../partials/breadcrumb", { links: [{ name: "Overview", href: "/dashboard/overview" }, { name: "Users", href: "/dashboard/users" }, { name: `Edit user (${user.username})` }] }) %>
        <form method="POST" class="bg-white rounded-md border border-slate-200 overflow-hidden p-8 space-y-6">
            <div class="flex gap-6 flex-col lg:gap-2 lg:flex-row">
                <div class="flex-1">
                    <label class="block mb-2 font-medium text-md text-slate-900" for="username-input">
                        Username
                        <span class="text-slate-600">(min. 3 chars)</span>
                    </label>
                    <input class="py-2 px-3 text-slate-800 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 bg-slate-50 border border-slate-200 w-full" type="text" name="username" placeholder="johndoe" id="username-input" value="<%= typeof values['username'] !== 'undefined' ? values['username'] : "" %>"/>
                    <% if(typeof validated['username'] !== 'undefined') { %>
                    <p class="text-red-500 text-sm mt-1"><%= validated['username'] %></p>
                    <% } %>
                </div>
                <div class="flex-1">
                    <label class="block mb-2 font-medium text-md text-slate-900 " for="email-input">Email</label>
                    <input class="py-2 px-3 text-slate-800 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 bg-slate-50 border border-slate-200 w-full" type="email" name="email" placeholder="john@doe.com" id="email-input" value="<%= typeof values['email'] !== 'undefined' ? values['email'] : "" %>"/>
                    <% if(typeof validated['email'] !== 'undefined') { %>
                    <p class="text-red-500 text-sm mt-1"><%= validated['email'] %></p>
                    <% } %>
                </div>
                <div class="flex-1">
                    <label class="block mb-2 font-medium text-md text-slate-900 " for="role-input">Role</label>
                    <select class="py-2 px-3 text-slate-800 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 bg-slate-50 border border-slate-200 w-full" name="role" id="role-input">
                        <option value="ADMIN" <%= typeof values['role'] !== 'undefined' ? values['role'] === 'ADMIN' ? "selected" : "" : "" %>>Admin</option>
                        <option value="SHOP_OWNER" <%= typeof values['role'] !== 'undefined' ? values['role'] === 'SHOP_OWNER' ? "selected" : "" : "" %>>Shop Owner</option>
                        <option value="COURIER" <%= typeof values['role'] !== 'undefined' ? values['role'] === 'COURIER' ? "selected" : "" : "selected" %>>Courier</option>
                    </select>
                    <% if(typeof validated['role'] !== 'undefined') { %>
                    <p class="text-red-500 text-sm mt-1"><%= validated['role'] %></p>
                    <% } %>
                </div>
            </div>
            <div class="flex gap-6 sm:gap-2 flex-col sm:flex-row" id="password-section" data-password-show-group>
                <div class="flex-1">
                    <label class="block mb-2 font-medium text-md text-slate-900" for="password-input">
                        Password
                        <span class="text-slate-600">(min. 8 chars)</span>
                    </label>
                    <input class="py-2 px-3 text-slate-800 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 bg-slate-50 border border-slate-200 w-full" type="password" name="password" data-password-show-input id="password-input">
                    <% if(typeof validated['password'] !== 'undefined') { %>
                    <p class="text-red-500 text-sm"><%= validated['password'] %></p>
                    <% } %>
                </div>
                <div class="flex-1">
                    <label class="block mb-2 font-medium text-md text-slate-900" for="confirm-password-input">Confirm Password</label>
                    <input class="py-2 px-3 text-slate-800 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 bg-slate-50 border border-slate-200 w-full" type="password" name="confirm_password" data-password-show-input id="confirm-password-input"/>
                    <% if(typeof validated['confirm-password'] !== 'undefined') { %>
                    <p class="text-red-500 text-sm mt-1"><%= validated['confirm-password'] %></p>
                    <% } else if(typeof validated['password-match'] !== 'undefined') { %>
                    <p class="text-red-500 text-sm mt-1"><%= validated['confirm-password'] %></p>
                    <% } %>
                </div>
            </div>
            <button class="flex gap-2 bg-cyan-500 hover:bg-cyan-700 text-white rounded-md px-5 py-3 transition-colors font-medium" type="submit">
                <svg viewBox="-2.5 -2.5 24 24" class="w-6 h-6" fill="currentColor">
                  <path d="M12.238 5.472L3.2 14.51l-.591 2.016 1.975-.571 9.068-9.068-1.414-1.415zM13.78 3.93l1.414 1.414 1.318-1.318a.5.5 0 0 0 0-.707l-.708-.707a.5.5 0 0 0-.707 0L13.781 3.93zm3.439-2.732l.707.707a2.5 2.5 0 0 1 0 3.535L5.634 17.733l-4.22 1.22a1 1 0 0 1-1.237-1.241l1.248-4.255 12.26-12.26a2.5 2.5 0 0 1 3.535 0z"></path>
                </svg>
                Edit
            </button>
        </form>  
      </div>
    </div>
  </body>
</html>