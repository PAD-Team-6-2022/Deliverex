<!DOCTYPE html>
<html lang="en" class="bg-slate-50">
  <head>
    <%- include("../../../partials/head", { js: "dashboard/orders/list" }) %>
  </head>
  <body>
    <div class="flex">
      <%- include("../../../partials/dashboard/sidebar") %>
      <div class="p-10 flex-1 overflow-hidden space-y-10">
        <%- include("../../../partials/breadcrumb", { links: [{ name: "Overview", href: "/dashboard/overview" }, { name: "Goals" }] }) %>
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4">
          <% goals.forEach(goal => { %>
          <a class="rounded-md border border-slate-200 bg-white p-8 space-y-6" href="/dashboard/goals/<%= goal.id %>">
            <div class="space-y-4">
              <div class="flex justify-between items-center">
                <h1 class="font-bold text-lg text-slate-800"><%= goal.title %></h1>
                <div class="flex space-x-2 text-slate-500">
                  <svg viewBox="-2 -4 24 24" class="h-6 w-6" fill="currentColor">
                    <path d="M3 0h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3zm10.874 5a4.002 4.002 0 0 1-7.748 0H2V5h16v2h-4.126zm-2.142 0H8.268a2 2 0 0 0 3.464 0z"></path>
                  </svg>
                  <div class="text-md font-medium"><%= goal.getDataValue('total_donations') %> contributed</div>
                </div>
              </div>
              <p class="font-medium text-md text-slate-500 text-justify line-clamp-3"><%= goal.description %></p>
            </div>
            <div class="space-y-2">
              <div class="flex justify-between mb-1">
                <span class="text-md font-medium text-cyan-500">€ <%= goal.getDataValue('total_donated') || 0 %></span>
                <span class="text-md font-medium text-slate-500">€ <%= goal.amount %></span>
              </div>
              <div class="w-full bg-slate-200 rounded-full h-2.5 overflow-hidden">
                <div class="bg-cyan-500 h-2.5 rounded-full max-w-full" style="width:<%= (goal.getDataValue('total_donated') / goal.amount) * 100 %>%"></div>
              </div>
            </div>
          </a>
          <% }) %>
        </div>
      </div>
    </div>
  </body>
</html>
